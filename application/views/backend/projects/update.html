<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Update {title} - Firefolio</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="icon.png">

        <link rel="stylesheet" href="{base_url}css/normalize.css">
        <link rel="stylesheet" href="{base_url}css/boilerplate.css">
        <link rel="stylesheet" href="{base_url}css/skeleton.css">
        <link rel="stylesheet" href="{base_url}css/firefolio.css">
    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

        <nav class="clearfix">
          <ul>
            <div class="u-pull-left">
              <li>
                <h1 style="font-size: 1.5em">
                  <a href="#firefolio-website-modal" rel="modal:open">
                    Firefolio
                  </a>
                </h1>
              </li>
              <li>
                <a href="#projects-modal" rel="modal:open">
                  Projects
                </a>
              </li>
              <li>
                <a href="#profile-modal" rel="modal:open">
                  Profile
                </a>
              </li>
              <li>
                <a href="#profile-modal" rel="modal:open">
                  Administration
                </a>
              </li>
            </div>
            <div class="u-pull-right">
              <li>
                <a href="{base_url}index.php/project/{uri}" target="_blank">
                  Preview
                </a>
              </li>
              <li>
                <a href="#logout-modal" rel="modal:open">
                  Logout
                </a>
              </li>
              <li class="hidden">
                &#9776;
                <span class="visuallyhidden">Open Navbar</span>
              </li>
            </div>
          </ul>
        </nav>

        <div class="container">
          <header class="row">
            <!-- We use {header} instead of {title} here because it's had its markup escaped -->
            <h1>Update {header}</h1>
            <hr>
          </header>

          <section class="row">
            <div class="one-full column">
              <form id="form">
                <!-- Anti CSRF -->
                <input id="csrf" type="hidden" name="{csrf_name}" value="{csrf_hash}">
                <!-- Base URL -->
                <input id="base-url" type="hidden" value="{base_url}">
                <input type="hidden" name="id" value="{id}">
                <!-- URI -->
                <!-- Original -->
                <input id="original-uri" type="hidden" name="original_uri" value="{uri}">
                <!-- Current -->
                <input id="uri" type="hidden" name="uri" value="{uri}">
                <div class="row">
                  <div class="one-half column">
                    <label for="title">Title</label>
                    <input
                    class="u-full-width"
                    type="text"
                    name="title"
                    value="{title}"
                    required>
                  </div>
                  <div class="one-half column">
                    <label for="subtitle">Subtitle</label>
                    <input
                    class="u-full-width"
                    type="text"
                    name="subtitle"
                    value="{subtitle}">
                  </div>
                </div>
                <div class="row">
                  <div class="one-half column">
                    <label for="description">Description (Code)</label>
                    <textarea
                    class="u-full-width"
                    style="min-height: 256px"
                    name="description">{description}</textarea>
                  </div>
                  <div class="one-half column">
                    <label for="preview">Description (Preview)</label>
                    <div class="">
                      <!-- {preview} here is used instead of {description}
                           because it's also been escaped -->
                      {preview}
                    </div>
                  </div>
                </div>
                <div class="row">
                  <label for="thumbnail">Thumbnail</label>
                  <input
                  class="u-full-width"
                  type="text"
                  name="thumbnail"
                  value="{thumbnail}">
                </div>
                <div class="row">
                  <label for="thumbnail">Trailer</label>
                  <input
                  class="u-full-width"
                  type="text"
                  name="trailer"
                  value="{trailer}">
                </div>
                <div class="row">
                  <div class="one-half column">
                    <label for="language">Language</label>
                    <select class="u-full-width" name="language">
                      <option value="{language}" selected>
                        {language} (Current)
                      </option>
                      {languages}
                        <option value="{name}">{name}</option>
                      {/languages}
                    </select>
                  </div>
                  <div class="one-half column">
                    <label for="date">Date</label>
                    <input id="datepicker" class="u-full-width" type="text" name="date" value="{date}">
                  </div>
                </div>
                <div class="row">
                  <div class="three columns">
                    <button class="button-primary u-full-width" type="submit" name="button">
                      Finish
                    </button>
                  </div>
                  <div class="three columns">
                    <a id="save" class="button u-full-width">
                      Save
                    </a>
                  </div>
                  <div class="three columns">
                    <button class="u-full-width" type="reset" name="button">
                      Reset
                    </button>
                  </div>
                  <div class="three columns">
                    <a class="button u-full-width" href="{base_url}index.php/firefolio/projects">
                      Cancel
                    </a>
                  </div>
                </div>
              </form>
            </div>
          </section>

          <footer class="row">
            <small>
              Firefolio Copyright &copy; 2018 Callum John @ItsSeaJay
            </small>
          </footer>
        </div>

        <!-- Modals -->
        <!-- Firefolio Website -->
        <div id="firefolio-website-modal" class="modal">
          <div class="container">
            <section class="row">
              <div class="one-full column">
                <h1>Warning!</h1>
                <p>
                  Are you sure you want to navigate away from the page?
                  All unsaved changes will be lost...
                </p>
              </div>
            </section>
            <section class="row">
              <div class="one-half column">
                <a
                href="http://firefolio.org/"
                class="button button-primary u-full-width">
                  Confirm
                </a>
              </div>
              <div class="one-half column">
                <a
                href="#firefolio-website-modal"
                rel="modal:close"
                class="button u-full-width">
                  Cancel
                </a>
              </div>
            </section>
          </div>
        </div>
        <!-- Logout -->
        <div id="logout-modal" class="modal">
          <div class="container">
            <section class="row">
              <div class="one-full column">
                <h1>Warning!</h1>
                <p>
                  Are you sure you want to logout?
                  All unsaved changes will be lost...
                </p>
              </div>
            </section>
            <section class="row">
              <div class="one-half column">
                <a
                href="{base_url}index.php/logout"
                class="button button-primary u-full-width">
                  Confirm
                </a>
              </div>
              <div class="one-half column">
                <a
                href="#firefolio-website-modal"
                rel="modal:close"
                class="button u-full-width">
                  Cancel
                </a>
              </div>
            </section>
          </div>
        </div>
        <!-- Projects View -->
        <div id="projects-modal" class="modal">
          <div class="container">
            <section class="row">
              <div class="one-full column">
                <h1>Warning!</h1>
                <p>
                  Are you sure you want to navigate away from the page?
                  All unsaved changes will be lost...
                </p>
              </div>
            </section>
            <section class="row">
              <div class="one-half column">
                <a
                href="{base_url}index.php/firefolio/projects"
                class="button button-primary u-full-width">
                  Confirm
                </a>
              </div>
              <div class="one-half column">
                <a
                href="#firefolio-website-modal"
                rel="modal:close"
                class="button u-full-width">
                  Cancel
                </a>
              </div>
            </section>
          </div>
        </div>
        <!-- Profile Update -->
        <div id="profile-modal" class="modal">
          <div class="container">
            <section class="row">
              <div class="one-full column">
                <h1>Warning!</h1>
                <p>
                  Are you sure you want to navigate away from the page?
                  All unsaved changes will be lost...
                </p>
              </div>
            </section>
            <section class="row">
              <div class="one-half column">
                <a
                href="{base_url}index.php/firefolio/profile"
                class="button button-primary u-full-width">
                  Confirm
                </a>
              </div>
              <div class="one-half column">
                <a
                href="#firefolio-website-modal"
                rel="modal:close"
                class="button u-full-width">
                  Cancel
                </a>
              </div>
            </section>
          </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
        <script
			  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
			  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
			  crossorigin="anonymous"></script>
        <script>
        window.jQuery || document.write('<script src="{base_url}js/vendor/jquery-3.2.1.min.js"><\/script>', 'js/vendor/jquery-ui-1.12.1/jquery-ui.min.js');
        </script>
        <script src="{base_url}js/firefolio/project/update.js"></script>
        <script src="{base_url}js/to_ascii.js"></script>
        <script src="{base_url}js/firefolio/datepicker.js"></script>
        <link rel="stylesheet" href="{base_url}js/vendor/jquery-ui-1.12.1/jquery-ui.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    </body>
</html>
