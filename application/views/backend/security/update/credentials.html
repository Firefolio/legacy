<!doctype html>
<html class="no-js">
  <head>
    <title>Security Alert - Firefolio</title>

    <!-- Meta Data -->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href="site.webmanifest">
    <link rel="apple-touch-icon" href="icon.png">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="{base_url}css/normalize.css">
    <link rel="stylesheet" href="{base_url}css/boilerplate.css">
    <link rel="stylesheet" href="{base_url}css/skeleton.css">
    <link rel="stylesheet" href="{base_url}css/firefolio.css">
  </head>
  <body>
    <!--[if lte IE 9]>
      <p class="browserupgrade">You are using an <strong>outdated</strong>
      browser. Please <a href="https://browsehappy.com/">upgrade your
      browser</a> to improve your experience and security.</p>
    <![endif]-->

    <!-- Hidden Inputs -->
    <!-- Base URL -->
    <input
    id="base-url"
    type="hidden"
    value="{base_url}">
    <!-- Index Page -->
    <input
    id="index-page"
    type="hidden"
    value="{index_page}">
    <!-- anti-CSRF hash -->
    <input
    id="csrf"
    type="hidden"
    name="{csrf_name}"
    value="{csrf_hash}">
    <!-- Redirect URL -->
    <input
    id="redirect-url"
    type="hidden"
    name="redirect_url"
    value="{base_url}{index_page}/backend/projects">

    <div class="container">
      <header class="row">
        <h1>Security Alert</h1>
        <h2>Insecure Login Credentials Detected</h2>
      </header>

      <section class="row">
        <div class="one-full column">
          <p>
            Change both your username and password to continue.
          </p>
        </div>
      </section>

      <section class="row">
        <div class="one-half column">
          <h3>Guidelines</h3>
          <h4>Username</h4>
          <ul>
            <li>
              <strong>Must be greater than 4 characters.</strong>
            </li>
          </ul>
          <h4>Password</h4>
          <ul>
            <li>
              <strong>Must be greater than 16 characters</strong>
            </li>
            <li>
              <strong>Mustn't be equal to your username</strong>
            </li>
            <li>
              Should contain a high level of entropy
            </li>
            <li>
              Shouldn't be information that can be found about you online
            </li>
          </ul>
        </div>
        <div class="one-half column">
          <form
          id="form"
          action="{base_url}{index_page}/backend/security/update/credentials/request"
          method="POST">
            <div class="row">
              <div class="one-full column">
                <label for="username">Username</label>
                <input
                class="u-full-width"
                type="text"
                name="username"
                value="">
              </div>
            </div>
            <!-- Password -->
            <div class="row">
              <!-- First -->
              <div class="one-half column">
                <label for="password">Password</label>
                <input
                class="u-full-width"
                type="password"
                name="password"
                value="">
              </div>
              <!-- First -->
              <div class="one-half column">
                <label for="password">Confirm Password</label>
                <input
                class="u-full-width"
                type="password"
                name="confirmation"
                value="">
              </div>
            </div>
            <!-- Buttons -->
            <div class="row">
              <div class="one-third column">
                <button class="button button-primary" type="submit" name="submit">Submit</button>
              </div>
            </div>
            <!-- Errors -->
            <div class="row">
              <div class="one-full column">
                <div id="error"></div>
              </div>
            </div>
          </form>
        </div>
      </section>
    </div>

    <!-- Scripts -->
    <!-- Libraries -->
    <!-- JQuery -->
    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>
    <!-- JQuery UI -->
    <script
	  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
	  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
	  crossorigin="anonymous"></script>
    <link
    rel="stylesheet"
    href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- Utilities -->
    <script src="{base_url}js/utilities/fallback.js"></script>
    <script src="{base_url}js/utilities/ajax.js"></script>

    <script type="text/javascript">
      $('document').ready(function () {
        $('#form').submit(function (event) {
          event.preventDefault();

          ajax.request.form(
            $('#form'),
            $('#form').attr('action'),
            $('#form').attr('method'),
            $('#redirect-url').val()
          );
        });
      });
    </script>
  </body>
</html>
